title: ANTLR4学习笔记
date: 2015-03-30 11:17:15
tags: ANTLR
categories: ANTLR

---

## ANTLR4文法文档的基本书写语法

<!--more-->

# ANTLR是什么

ANTLR是一个解析器生成工具,可以根据你书写的文法文件,自动生成可以解析该文法的解析器(Parser).其强大的功能远不止这些.

# 文法文档(Grammar Lexicon)

Lexicon是按ANTLR规范书写的文件,在这个文件中指定你要解析的文法,ANTLR再根据这个文件生成对应的解析器.

## 语法

lexicon类似于一门小型的语言

### 注释(Comments)

支持单行注释,多行注释,和javadoc风格的注释

```
/**
* this is javadoc-style comment
*/

grammar T;

/* a multi-line
  comment
*/

decl : ID; //this is single-line comment

```

### 标识符(Identifiers)

词法单元和词法规则通常以**大写字母**命名
解析规则(parser rule) 以**小写字母**开头命名(驼峰命名法)

例如:
```
ID, LPAREN, RIGHT_CURLY //token names/rule
expr, simpleDclarator, d2, header_file //rule names
```

ANTLR还支持unicode编码的字符命名

### 文字(Literals)

ANTLR不区分**字符**和**字符串**.所有的字符串都是由单引号引用起来的字符,但是像这样的字符串中不包括正则表达式.支持unicode和转义符号例如
```
',' , 'if', '>=', 
' \''//转义的单引号
'\u00E8' //法语中的字符è
'\n', '\r' //换行 回车
```

### 动作(Actions)

动作是用目标语言书写的代码块.嵌入的代码可以出现在:

1. **@header** **@members**这样的命名动作中
2. 解析规则和词法规则中
3. 异常捕获中
4. 解析规则的属性部分(返回值,参数等)
5. 一些规则可选元素中

### 关键字(Keywords)

ANTLR中有一些保留关键字,例如:
```
import, fragment, lexer, parser, grammar, returns, locals, throws, catch, finally, mode, options, tokens
```













